--v226 农场住房
UPDATE Improvements SET TilesRequired = 1 WHERE ImprovementType = 'IMPROVEMENT_FARM';

--v232 渔场
UPDATE Improvements SET Housing	= 1, TilesRequired = 1, AdjacentSeaResource = 1, Workable = 1 WHERE ImprovementType = 'IMPROVEMENT_FISHERY';

UPDATE Improvement_YieldChanges SET YieldType = 'YIELD_GOLD' WHERE ImprovementType = 'IMPROVEMENT_FISHERY' AND YieldType = 'YIELD_FOOD';

UPDATE Adjacency_YieldChanges SET YieldType = 'YIELD_GOLD', PrereqTech = 'TECH_SQUARE_RIGGING', ObsoleteTech = 'TECH_ELECTRICITY' WHERE ID = 'FISHERY_ADJACENCY';
UPDATE Adjacency_YieldChanges SET YieldType = 'YIELD_GOLD', PrereqTech = 'TECH_ELECTRICITY' WHERE ID = 'FISHERY_ADJACENCY_ADVANCED';
UPDATE Adjacency_YieldChanges SET YieldType = 'YIELD_GOLD' WHERE ID = 'Fishery_SeaResourceAdjacency';

--v232 改良优化
INSERT OR REPLACE INTO Improvement_YieldChanges(ImprovementType, YieldType, YieldChange) VALUES
('IMPROVEMENT_QUARRY', 		'YIELD_CULTURE', 0),
('IMPROVEMENT_MINE', 		'YIELD_SCIENCE', 0);

UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_SCIENCE' WHERE ImprovementType = 'IMPROVEMENT_MINE' AND PrereqTech = 'TECH_IRON_WORKING';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_SCIENCE' WHERE ImprovementType = 'IMPROVEMENT_MINE' AND PrereqTech = 'TECH_METAL_CASTING';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_SCIENCE' WHERE ImprovementType = 'IMPROVEMENT_MINE' AND PrereqTech = 'TECH_COMPOSITES';

UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_CULTURE' WHERE ImprovementType = 'IMPROVEMENT_QUARRY' AND PrereqTech = 'TECH_CONSTRUCTION';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_CULTURE' WHERE ImprovementType = 'IMPROVEMENT_QUARRY' AND PrereqTech = 'TECH_GUNPOWDER';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_PRODUCTION' WHERE ImprovementType = 'IMPROVEMENT_QUARRY' AND PrereqTech = 'TECH_REFINING';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_CULTURE' WHERE ImprovementType = 'IMPROVEMENT_QUARRY' AND PrereqTech = 'TECH_LASERS';

UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_PRODUCTION' WHERE ImprovementType = 'IMPROVEMENT_PASTURE' AND PrereqTech = 'TECH_HORSEBACK_RIDING';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_PRODUCTION' WHERE ImprovementType = 'IMPROVEMENT_PASTURE' AND PrereqTech = 'TECH_RADIO';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_PRODUCTION' WHERE ImprovementType = 'IMPROVEMENT_PASTURE' AND PrereqTech = 'TECH_ROBOTICS';

UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_GOLD' WHERE ImprovementType = 'IMPROVEMENT_PLANTATION' AND PrereqTech = 'TECH_CHEMISTRY';

UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_FOOD' WHERE ImprovementType = 'IMPROVEMENT_FISHING_BOATS' AND PrereqTech = 'TECH_CARTOGRAPHY';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_PRODUCTION' WHERE ImprovementType = 'IMPROVEMENT_FISHING_BOATS' AND PrereqTech = 'TECH_ELECTRICITY';
UPDATE Improvement_BonusYieldChanges SET YieldType = 'YIELD_FOOD' WHERE ImprovementType = 'IMPROVEMENT_FISHING_BOATS' AND PrereqTech = 'TECH_TELECOMMUNICATIONS';

DELETE FROM Improvement_Adjacencies WHERE ImprovementType = 'IMPROVEMENT_MINE' AND YieldChangeId = 'MINE_ADJACENCY';
DELETE FROM Improvement_Adjacencies WHERE ImprovementType = 'IMPROVEMENT_LUMBER_MILL' AND YieldChangeId = 'LUMBER_MILL_ADJACENCY';
DELETE FROM Improvement_Adjacencies WHERE ImprovementType = 'IMPROVEMENT_FARM' AND YieldChangeId = 'Farms_MechanizedAdjacency';
INSERT OR REPLACE INTO Improvement_Adjacencies(ImprovementType, YieldChangeId) VALUES
('IMPROVEMENT_QUARRY', 		'QUARRY_ADJACENCY'),
('IMPROVEMENT_QUARRY', 		'QUARRY_ADJACENCY_ADVANCED'),
('IMPROVEMENT_MINE', 		'MINE_ADJACENCY1'),
('IMPROVEMENT_MINE', 		'MINE_ADJACENCY_ADVANCED'),
('IMPROVEMENT_PASTURE',		'PASTURE_ADJACENCY'),
('IMPROVEMENT_PASTURE', 	'PASTURE_ADJACENCY_ADVANCED'),
('IMPROVEMENT_PLANTATION',	'PLANTATION_ADJACENCY'),
('IMPROVEMENT_PLANTATION', 	'PLANTATION_ADJACENCY_ADVANCED'),
('IMPROVEMENT_CAMP',		'CAMP_ADJACENCY'),
('IMPROVEMENT_CAMP', 		'CAMP_ADJACENCY_ADVANCED'),
('IMPROVEMENT_FISHING_BOATS',		'FISHING_BOATS_ADJACENCY'),
('IMPROVEMENT_FISHING_BOATS', 		'FISHING_BOATS_ADJACENCY_ADVANCED'),
('IMPROVEMENT_LUMBER_MILL',			'LUMBER_MILL_ADJACENCY1'),
('IMPROVEMENT_LUMBER_MILL', 		'LUMBER_MILL_ADJACENCY_ADVANCED'),
('IMPROVEMENT_FARM', 				'FARM_ADJACENCY_ADVANCED');

INSERT OR REPLACE INTO Adjacency_YieldChanges
(ID, 								Description, 	YieldType, 			YieldChange, 	TilesRequired, 	AdjacentImprovement, 		PrereqTech,					ObsoleteTech) VALUES 
('QUARRY_ADJACENCY', 				'Placeholder', 	'YIELD_PRODUCTION', 1, 				2, 				'IMPROVEMENT_QUARRY', 		'TECH_CASTLES',				'TECH_MILITARY_SCIENCE'),
('QUARRY_ADJACENCY_ADVANCED', 		'Placeholder', 	'YIELD_PRODUCTION', 1, 				1, 				'IMPROVEMENT_QUARRY', 		'TECH_MILITARY_SCIENCE',	NULL),
('MINE_ADJACENCY1', 				'Placeholder', 	'YIELD_PRODUCTION', 1, 				2, 				'IMPROVEMENT_MINE', 		'TECH_APPRENTICESHIP',		'TECH_INDUSTRIALIZATION'),
('MINE_ADJACENCY_ADVANCED', 		'Placeholder', 	'YIELD_PRODUCTION', 1, 				1, 				'IMPROVEMENT_MINE', 		'TECH_INDUSTRIALIZATION',	NULL),
('PASTURE_ADJACENCY', 				'Placeholder', 	'YIELD_FOOD', 		1, 				2, 				'IMPROVEMENT_PASTURE', 		'TECH_STIRRUPS',			'TECH_RIFLING'),
('PASTURE_ADJACENCY_ADVANCED', 		'Placeholder', 	'YIELD_FOOD', 		1, 				1, 				'IMPROVEMENT_PASTURE', 		'TECH_RIFLING',				NULL),
('PLANTATION_ADJACENCY', 			'Placeholder', 	'YIELD_GOLD', 		1, 				2, 				'IMPROVEMENT_PLANTATION', 	'TECH_EDUCATION',			'TECH_ECONOMICS'),
('PLANTATION_ADJACENCY_ADVANCED', 	'Placeholder', 	'YIELD_GOLD', 		1, 				1, 				'IMPROVEMENT_PLANTATION', 	'TECH_ECONOMICS',			NULL),
('CAMP_ADJACENCY', 					'Placeholder', 	'YIELD_GOLD', 		1, 				2, 				'IMPROVEMENT_CAMP', 		'TECH_EDUCATION',			'TECH_SANITATION'),
('CAMP_ADJACENCY_ADVANCED', 		'Placeholder', 	'YIELD_GOLD', 		1, 				1, 				'IMPROVEMENT_CAMP', 		'TECH_SANITATION',			NULL),
('FISHING_BOATS_ADJACENCY', 		'Placeholder', 	'YIELD_FOOD', 		1, 				2, 				'IMPROVEMENT_FISHING_BOATS', 	'TECH_BUTTRESS',		'TECH_STEAM_POWER'),
('FISHING_BOATS_ADJACENCY_ADVANCED', 'Placeholder', 'YIELD_FOOD', 		1, 				1, 				'IMPROVEMENT_FISHING_BOATS', 	'TECH_STEAM_POWER',		NULL),
('LUMBER_MILL_ADJACENCY1', 			'Placeholder', 	'YIELD_PRODUCTION', 1, 				2, 				'IMPROVEMENT_LUMBER_MILL', 	'TECH_SIEGE_TACTICS',		'TECH_REPLACEABLE_PARTS'),
('LUMBER_MILL_ADJACENCY_ADVANCED', 'Placeholder', 	'YIELD_PRODUCTION', 1, 				1, 				'IMPROVEMENT_LUMBER_MILL', 	'TECH_REPLACEABLE_PARTS',	NULL),
('FARM_ADJACENCY_ADVANCED', 		'Placeholder', 	'YIELD_FOOD', 		1, 				1, 				'IMPROVEMENT_FARM', 		'TECH_SCIENTIFIC_THEORY',	NULL);

UPDATE Adjacency_YieldChanges SET ObsoleteTech = 'TECH_SCIENTIFIC_THEORY' WHERE ID = 'Farms_MedievalAdjacency';